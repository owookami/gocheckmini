import 'dart:io';\nimport 'package:sqflite_common_ffi/sqflite_ffi.dart';\nimport 'package:path/path.dart';\n\nvoid main() async {\n  sqfliteFfiInit();\n  databaseFactory = databaseFactoryFfi;\n\n  try {\n    print('ğŸ”¨ bjdongs í…Œì´ë¸” ìƒì„± ì‹œì‘...');\n\n    final databasesPath = await getDatabasesPath();\n    final dbPath = join(databasesPath, 'parking_finder.db');\n    \n    final db = await openDatabase(dbPath);\n    \n    // bjdongs í…Œì´ë¸” ìƒì„±\n    await db.execute('''\n      CREATE TABLE IF NOT EXISTS bjdongs (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        sigungu_code TEXT NOT NULL,\n        bjdong_name TEXT NOT NULL,\n        is_active INTEGER DEFAULT 1,\n        created_at TEXT NOT NULL,\n        updated_at TEXT NOT NULL\n      )\n    ''');\n    \n    await db.execute(\n      'CREATE INDEX IF NOT EXISTS idx_bjdongs_sigungu_code ON bjdongs(sigungu_code);',\n    );\n    \n    print('âœ… bjdongs í…Œì´ë¸” ìƒì„± ì™„ë£Œ');\n    \n    // ê¸°ì¡´ ë°ì´í„° ì‚­ì œ\n    await db.delete('bjdongs');\n    \n    // ê¸°ë³¸ ìë©´ë™ ë°ì´í„° ì‚½ì…\n    await db.transaction((txn) async {\n      final regions = await txn.query(\n        'regions',\n        where: 'sigungu_code IS NOT NULL AND sigungu_code != \"\"',\n      );\n      \n      int bjdongId = 1;\n      \n      for (final region in regions) {\n        final sigunguCode = region['sigungu_code'] as String;\n        final sigunguName = region['sigungu_name'] as String;\n        \n        List<String> bjdongs = [];\n        \n        if (sigunguName.contains('ì¢…ë¡œêµ¬')) {\n          bjdongs = ['ì²­ìš´íš¨ìë™', 'ì‚¬ì§ë™', 'ì‚¼ì²­ë™', 'ë¶€ì•”ë™', 'ì¢…ë¡œ1Â·2Â·3Â·4ê°€ë™'];\n        } else if (sigunguName.contains('ì¤‘êµ¬')) {\n          bjdongs = ['ì†Œê³µë™', 'íšŒí˜„ë™', 'ëª…ë™', 'í•„ë™', 'ì¥ì¶©ë™'];\n        } else if (sigunguName.contains('ìš©ì‚°êµ¬')) {\n          bjdongs = ['ìš©ì‚°2ê°€ë™', 'ë‚¨ì˜ë™', 'ì²­íŒŒë™', 'ì›íš¨ë¡œ1ë™', 'íš¨ì°½ë™'];\n        } else {\n          bjdongs = ['${sigunguName} ì¤‘ì‹¬ê°€', '${sigunguName} 1ë™', '${sigunguName} 2ë™'];\n        }\n        \n        for (final bjdong in bjdongs) {\n          await txn.insert('bjdongs', {\n            'id': bjdongId++,\n            'sigungu_code': sigunguCode,\n            'bjdong_name': bjdong,\n            'is_active': 1,\n            'created_at': DateTime.now().toIso8601String(),\n            'updated_at': DateTime.now().toIso8601String(),\n          });\n        }\n      }\n    });\n    \n    final totalResult = await db.rawQuery('SELECT COUNT(*) as count FROM bjdongs');\n    final totalCount = totalResult.first['count'] as int;\n    print('âœ… bjdongs ë°ì´í„° ìƒì„± ì™„ë£Œ: $totalCountê°œ');\n    \n    await db.close();\n    print('\\nâœ… bjdongs í…Œì´ë¸” ìƒì„± ë° ë°ì´í„° ì‚½ì… ì™„ë£Œ!');\n    \n  } catch (e) {\n    print('âŒ ì˜¤ë¥˜ ë°œìƒ: $e');\n  }\n} 